$("ul.flat-list.buttons").append($("<li>").append($('<a href="javascript:void(0)">switcharoo</a>').click(click)));function click(){$.getJSON("https://api.reddit.com/r/switcharoo/new?limit=1").done(t=>{$(this).parents(".buttons").find(".reply-button a").click();var e=$(this).parents(".thing").find(".usertext-edit");e.find("textarea").val(`Ah, the ol' reddit [switcharoo](${t.data.children[0].data.url})!\n\n(make the above creative/relevant to the thread and remove this message, then click save)`);e.find("button.save").click(()=>{const t=$(this).parents(".thing").find(".child .thing").data("permalink");const e=setInterval(()=>{const o=$(this).parents(".thing").find(".child .thing").data("permalink");if(o!=t){clearInterval(e);const t=new URL("https://www.reddit.com");t.pathname=o;const a=new URL("https://www.reddit.com/r/switcharoo/submit");Object.entries({url:t,context:prompt("How many comments before your switcharoo comment would someone need to read to understand it?"),title:`${prompt("What was the intended subject?")} vs ${prompt("What was it switched to?")}`}).forEach(t=>a.searchParams.append(...t));if(prompt("Please read the rules on the sidebar of the popup to make sure that your post follows them. "+"If you do not, your post will likely be removed very quickly. "+'To confirm that you can handle that reponsibility, type in "switcharoo".').toLowerCase()=="switcharoo"){window.open(a)}else{alert("Just be responsible next time")}}},10)})}).fail(()=>{alert(new Error("Couldn't reach reddit, it may be blocked or down"))})}
//# sourceMappingURL=switcharoo.min.js.map